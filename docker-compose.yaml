services:
  biz-mineru-svr:
    build:
      context: .
      dockerfile: Dockerfile
    image: biz-mineru-svr:1.0
    container_name: biz-mineru-svr
    ports:
      - "8091:8000"       # 主机端口:容器端口
    restart: unless-stopped
    # 可选：挂载代码（开发时方便热更新，生产建议去掉）
    # volumes:
    #   - ./app:/app/app
    # 环境变量（如需配置 DB、密钥等）
    # environment:
    #   - ENV=production
    #   - DATABASE_URL=postgresql://...
    command: >
      uvicorn app.main:app
      --host 0.0.0.0
      --port 8000
      --workers 4